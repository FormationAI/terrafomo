_name: aws_api_gateway_stage
arguments:
  stage_name:
    required: true
    help: (Required) The name of the stage
    type: Text
  documentation_version:
    required: false
    help: (Optional) The version of the associated API documentation
    type: Text
  variables:
    required: false
    help: (Optional) A map that defines the stage variables
    type: Text
  deployment_id:
    required: true
    help: (Required) The ID of the deployment that the stage points to
    type: Text
  rest_api_id:
    required: true
    help: (Required) The ID of the associated REST API
    type: Text
  cache_cluster_size:
    required: false
    help: (Optional) The size of the cache cluster for the stage, if enabled. Allowed
      values include @0.5@ , @1.6@ , @6.1@ , @13.5@ , @28.4@ , @58.2@ , @118@ and
      @237@ .
    type: Text
  cache_cluster_enabled:
    required: false
    help: (Optional) Specifies whether a cache cluster is enabled for the stage
    type: Text
  description:
    required: false
    help: (Optional) The description of the stage
    type: Text
  client_certificate_id:
    required: false
    help: (Optional) The identifier of a client certificate for the stage.
    type: Text
attributes: {}
about: Provides an API Gateway Stage.
examples:
- name: null
  code:
  - test <- resource "test" $
  - ! '    api_gateway_stage_resource'
  - ! '        & stage_name .~ "prod"'
  - ! '        & rest_api_id .~ compute test @"id"'
  - ! '        & deployment_id .~ compute test @"id"'
  - ! ' '
  - test <- resource "test" $
  - ! '    api_gateway_rest_api_resource'
  - ! '        & name .~ "MyDemoAPI"'
  - ! '        & description .~ "This is my API for demonstration purposes"'
  - ! ' '
  - test <- resource "test" $
  - ! '    api_gateway_deployment_resource'
  - ! '        & depends_on .~ ["aws_api_gateway_integration.test"]'
  - ! '        & rest_api_id .~ compute test @"id"'
  - ! '        & stage_name .~ "dev"'
  - ! ' '
  - test <- resource "test" $
  - ! '    api_gateway_resource_resource'
  - ! '        & rest_api_id .~ compute test @"id"'
  - ! '        & parent_id .~ compute test @"root_resource_id"'
  - ! '        & path_part .~ "mytestresource"'
  - ! ' '
  - test <- resource "test" $
  - ! '    api_gateway_method_resource'
  - ! '        & rest_api_id .~ compute test @"id"'
  - ! '        & resource_id .~ compute test @"id"'
  - ! '        & http_method .~ "GET"'
  - ! '        & authorization .~ "NONE"'
  - ! ' '
  - s <- resource "s" $
  - ! '    api_gateway_method_settings_resource'
  - ! '        & rest_api_id .~ compute test @"id"'
  - ! '        & stage_name .~ compute test @"stage_name"'
  - ! '        & method_path .~ compute test @"path_part"<>"/"<>compute test @"http_method"'
  - ! ' '
  - test <- resource "test" $
  - ! '    api_gateway_integration_resource'
  - ! '        & rest_api_id .~ compute test @"id"'
  - ! '        & resource_id .~ compute test @"id"'
  - ! '        & http_method .~ compute test @"http_method"'
  - ! '        & type .~ "MOCK"'
