_name: aws_vpn_connection
arguments:
  type_:
    required: true
    help: (Required) The type of VPN connection. The only type AWS supports at this
      time is "ipsec.1".
    type: Text
  vpn_gateway_id:
    required: true
    help: (Required) The ID of the virtual private gateway.
    type: Text
  static_routes_only:
    required: false
    help: (Optional, Default @false@ ) Whether the VPN connection uses static routes
      exclusively. Static routes must be used for devices that don't support BGP.
    type: Text
  customer_gateway_id:
    required: true
    help: (Required) The ID of the customer gateway.
    type: Text
  tags:
    required: false
    help: (Optional) Tags to apply to the connection.
    type: Text
attributes:
  customer_gateway_configuration:
    help: ! '- The configuration information for the VPN connection''s customer gateway
      (in the native XML format).'
    type: Text
  vpn_gateway_id:
    help: ! '- The ID of the virtual private gateway to which the connection is attached.'
    type: Text
  tunnel2_preshared_key:
    help: ! '- The preshared key of the second VPN tunnel.'
    type: Text
  tunnel2_bgp_asn:
    help: ! '- The bgp asn number of the second VPN tunnel.'
    type: Text
  tunnel2_address:
    help: ! '- The public IP address of the second VPN tunnel.'
    type: Text
  tunnel1_bgp_holdtime:
    help: ! '- The bgp holdtime of the first VPN tunnel.'
    type: Text
  static_routes_only:
    help: ! '- Whether the VPN connection uses static routes exclusively.'
    type: Text
  customer_gateway_id:
    help: ! '- The ID of the customer gateway to which the connection is attached.'
    type: Text
  tunnel2_cgw_inside_address:
    help: ! '- The RFC 6890 link-local address of the second VPN tunnel (Customer
      Gateway Side).'
    type: Text
  tunnel1_cgw_inside_address:
    help: ! '- The RFC 6890 link-local address of the first VPN tunnel (Customer Gateway
      Side).'
    type: Text
  tunnel1_vgw_inside_address:
    help: ! '- The RFC 6890 link-local address of the first VPN tunnel (VPN Gateway
      Side).'
    type: Text
  tunnel2_bgp_holdtime:
    help: ! '- The bgp holdtime of the second VPN tunnel.'
    type: Text
  id:
    help: ! '- The amazon-assigned ID of the VPN connection.'
    type: Text
  tunnel1_address:
    help: ! '- The public IP address of the first VPN tunnel.'
    type: Text
  type:
    help: ! '- The type of VPN connection.'
    type: Text
  tunnel1_bgp_asn:
    help: ! '- The bgp asn number of the first VPN tunnel.'
    type: Text
  tunnel1_preshared_key:
    help: ! '- The preshared key of the first VPN tunnel.'
    type: Text
  tunnel2_vgw_inside_address:
    help: ! '- The RFC 6890 link-local address of the second VPN tunnel (VPN Gateway
      Side).'
    type: Text
  tags:
    help: ! '- Tags applied to the connection.'
    type: Text
about: Provides a VPN connection connected to a VPC. These objects can be connected
  to customer gateways, and allow you to establish tunnels between your network and
  the VPC.
examples:
- name: null
  code:
  - vpc <- resource "vpc" $
  - ! '    vpc_resource'
  - ! '        & cidr_block .~ "10.0.0.0/16"'
  - ! ' '
  - vpn_gateway <- resource "vpn_gateway" $
  - ! '    vpn_gateway_resource'
  - ! '        & vpc_id .~ compute vpc @"id"'
  - ! ' '
  - customer_gateway <- resource "customer_gateway" $
  - ! '    customer_gateway_resource'
  - ! '        & bgp_asn .~ 65000'
  - ! '        & ip_address .~ "172.0.0.1"'
  - ! '        & type .~ "ipsec.1"'
  - ! ' '
  - main <- resource "main" $
  - ! '    vpn_connection_resource'
  - ! '        & vpn_gateway_id .~ compute vpn_gateway @"id"'
  - ! '        & customer_gateway_id .~ compute customer_gateway @"id"'
  - ! '        & type .~ "ipsec.1"'
  - ! '        & static_routes_only .~ True'
